<div class="main-container">
  <div class="heading-container">
    <div class="contributor-heading">
      <div class="contributor-heading-container">
        <h1>Contributors</h1>
      </div>
      <div class="close-button-container">
        <button mat-icon-button (click)="closeDialog()">
          <mat-icon>close</mat-icon>
        </button>
      </div>
    </div>
    <div class="module-heading">
      <h1>{{this.data.categoryName}} / {{this.data.moduleName}}</h1>
    </div>
  </div>
  <form>
    <div class="author-reviewer-container">
      <div class="author-container">
        <div class="author-heading-container">
          <h3>Author</h3>
        </div>
        <div class="author-input-container">
          <mat-form-field appearance="outline" class="add-author">
            <mat-label>Author</mat-label>
            <mat-chip-list #chipList1 aria-label="Email Selection" [formControl]="authorFormControl" required>
              <mat-chip *ngFor="let user of authors">
                {{user.userEmail}}
                <button matChipRemove>
                  <mat-icon>cancel</mat-icon>
                </button>
              </mat-chip>
              <input matInput type="text" #authorEmail
                     id="user-emails" maxlength="1200"
                     [matChipInputFor]="chipList1"
                     [matChipInputAddOnBlur]="addOnBlur"
                     [formControl]="contributorCtrl"
                     [matChipInputSeparatorKeyCodes]="separatorKeysCodes"
                     [(ngModel)]="emailTextField"
                     pattern="/^([_A-Za-z\d-+]+\.?[_A-Za-z\d-+]+@(thoughtworks.com),?)*$/"
                     (matChipInputTokenEnd)="addContributor($event, 'AUTHOR')"
              >
            </mat-chip-list>
            <mat-error>
              {{mandatoryFieldText}}
            </mat-error>
          </mat-form-field>
          <!--          <mat-error *ngIf="form['emailValidator'].hasError('pattern')">-->
          <!--            Does not match-->
          <!--          </mat-error>-->
        </div>
      </div>
      <div class="reviewer-container">
        <div class="reviewer-heading-container">
          <h3>Reviewer</h3>
        </div>
        <div class="reviewer-input-container">
          <mat-form-field appearance="outline" class="add-author">
            <mat-label>Reviewer</mat-label>
            <mat-chip-list #chipList aria-label="Email Selection" required [formControl]="reviewerFormControl">
              <mat-chip *ngFor="let user of reviewers">
                {{user.userEmail}}
                <button matChipRemove>
                  <mat-icon>cancel</mat-icon>
                </button>
              </mat-chip>
              <input matInput type="text"
                     id="userEmails" maxlength="1200"
                     [matChipInputFor]="chipList"
                     [formControl]="contributorCtrl"
                     [matChipInputAddOnBlur]="addOnBlur"
                     [matChipInputSeparatorKeyCodes]="separatorKeysCodes"
                     [(ngModel)]="reviewerText"
                     (matChipInputTokenEnd)="addContributor($event, 'REVIEWER')"
              >
            </mat-chip-list>
            <mat-error>
              {{mandatoryFieldText}}
            </mat-error>
          </mat-form-field>
          <!--          <mat-error *ngIf="form['emailValidator'].hasError('pattern')">-->
          <!--            Does not match-->
          <!--          </mat-error>-->
        </div>
      </div>
    </div>
    <br><br>
    <div class="save-button-container">
      <div>
        <button mat-flat-button type="submit">Save</button>
      </div>
    </div>
  </form>
</div>
