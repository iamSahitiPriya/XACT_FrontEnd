<!--
  ~ Copyright (c) 2022 - Thoughtworks Inc. All rights reserved.
  -->

<script src="../assessment-menu/assessment-menu.component.ts"></script>
<div class="topicScoring">
  <mat-card class="scoreHeading">{{data_local.ASSESSMENT_TOPIC.MATURITY_SCORE_TITLE}} {{topicName}}</mat-card>
  <div *ngFor="let pScore of topicScore">
    <mat-toolbar class="scoreReference">
      <p class="reference">{{pScore.reference}}</p>
      <span class="spacer"></span>
      <span class="rating" (click)="setRating(pScore.rating)"
            [ngClass]="{'rating-active':topicRatingAndRecommendation.rating === pScore.rating}">
       <div class="image"></div>
        {{pScore.rating}}</span>
    </mat-toolbar>
  </div>
</div>


<div>
  <mat-form-field class="textArea" appearance="outline" *ngIf="topicRatingAndRecommendation">
    <div *ngIf="topicRecommendation"></div>
    <mat-label>{{data_local.ASSESSMENT_TOPIC.RECOMMENDATION_LABEL}}</mat-label>
    <textarea id="recommendationElement_topic{{topicRecommendation}}"
              name="recommendationText_topic{{topicRecommendation}}" matInput #recommendationElement
              [(ngModel)]="topicRatingAndRecommendation.recommendation"
              cdkTextareaAutosize
              cdkAutosizeMinRows="1"
              cdkAutosizeMaxRows="100"
              maxlength="10000"
              (keyup)="saveParticularRecommendation($event)"
              [readonly]="assessmentStatus ==='Completed'"></textarea>
  </mat-form-field>
</div>

