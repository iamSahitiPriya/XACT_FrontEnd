<!--
  ~ Copyright (c) 2022 - Thoughtworks Inc. All rights reserved.
  -->

<div class="topicQuestions" *ngIf="topicInput">
  <form #testForm="ngForm">
    <div *ngFor="let parameter of topicInput.parameters; let i=index;">
      <div class="parameter"><strong>{{i + 1}}.</strong>&nbsp;{{parameter && parameter.parameterName}}
      </div>
      <div *ngIf="parameter">
        <div class="question"
             *ngFor="let question of parameter.questions; let j=index;">
          <strong>{{i + 1}}.{{j + 1}}</strong>&nbsp;{{question.questionText}}
          <br>
      <app-assessment-question [questionDetails]="question" [answerInput]="topicRequest.parameterLevel[i].answerRequest[j]"></app-assessment-question>
        </div>
      </div>
    <div *ngIf="parameter.references">
      <app-parameter-level-rating-and-recommendation [parameterRecommendation]="parameter.parameterId" [parameterScore]="parameter.references" [parameterRatingAndRecommendation]="topicRequest.parameterLevel[i].parameterRatingAndRecommendation"></app-parameter-level-rating-and-recommendation>
    </div>
  </div>
  <div *ngIf="topicInput.references">
    <app-topic-score [topicScore]="topicInput.references" [topicRatingAndRecommendation]="topicRequest.topicRatingAndRecommendation" [topicId]="topicInput.topicId" (topicRatingEmitter)="receiveRating($event)"></app-topic-score>
    <div>
      <app-topic-level-recommendation [topicRecommendation]="topicInput.topicId" [topicRatingAndRecommendation]="topicRequest.topicRatingAndRecommendation"></app-topic-level-recommendation>
    </div>
  </div>
  <div class="row">
    <div class="col-md-3">
    </div>
    <div class="col-md-8">
      <button [disabled]="assessmentStatus ==='Completed'" mat-raised-button class="saveButton" (click)="save()">Save</button>

    </div>
  </div>
  </form>
</div>

