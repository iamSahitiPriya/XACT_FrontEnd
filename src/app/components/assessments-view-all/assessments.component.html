<!--
  ~ Copyright (c) 2022 - Thoughtworks Inc. All rights reserved.
  -->

<div class="header-container">
  <div class="row">
    <div class="col-md-2 col-sm-2">
      <h1 class="heading">{{homePageTitle}}</h1>
    </div>
    <div class="col-md-8 col-sm-6" align="end">
      <app-search [dataSource]="dataSource"></app-search>
    </div>
    <div align="end" class="col-md-2 col-sm-4">
      <button [matTooltip]=buttonToolTip mat-raised-button (click)="openAssessment(content)"
              id="createAssessment">{{createAssessment}}
      </button>
      <ng-template #content>
        <app-create-assessments [assessment]="blankAssessment"></app-create-assessments>
      </ng-template>
    </div>
  </div>
</div>

<div class="row">
  <div class="col-md-12">

    <table mat-table [dataSource]="dataSource" class="mat-elevation-z8" aria-describedby="assessment" matSort>
      <ng-container matColumnDef="assessmentName">
        <th mat-header-cell *matHeaderCellDef  mat-sort-header="assessmentName" sortActionDescription="Sort by assessment name" [matTooltip]=toolTipSortingCol+assessmentNameHeading> {{assessmentNameHeading}}</th>
        <td mat-cell *matCellDef="let element">
          <span> {{element.assessmentName}} </span>
        </td>
      </ng-container>

      <ng-container matColumnDef="organisationName">
        <th mat-header-cell *matHeaderCellDef  mat-sort-header="organisationName" sortActionDescription="Sort by org name" [matTooltip]=toolTipSortingCol+organisationNameHeading> {{organisationNameHeading}} </th>
        <td mat-cell *matCellDef="let element"> {{element.organisationName}} </td>
      </ng-container>

      <ng-container matColumnDef="assessmentStatus"  >
        <th mat-header-cell *matHeaderCellDef mat-sort-header="assessmentStatus" sortActionDescription="Sort by assessment status" [matTooltip]=toolTipSortingCol+statusHeading> {{statusHeading}}</th>
        <td mat-cell *matCellDef="let element"> {{element.assessmentStatus}} </td>
      </ng-container>

      <ng-container matColumnDef="updatedAt">
        <th mat-header-cell *matHeaderCellDef mat-sort-header="updatedAt" sortActionDescription="Sort by last update" [matTooltip]=toolTipSortingCol+lastUpdatedHeading> {{lastUpdatedHeading}}</th>
        <td mat-cell *matCellDef="let element"> {{element.updatedAt | date:"dd-MMM-yyyy"}} </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="columnsToDisplay"></tr>
      <tr [matTooltip]=toolTipAssessmentCol+element.assessmentName
          [routerLink]="['/assessment',element.assessmentId]"
          role="button" mat-row *matRowDef="let element; columns: columnsToDisplay;"></tr>
      <tr class="mat-row" *matNoDataRow>
        <td class="mat-cell" colspan="4">{{assessmentNotAvailable}}</td>
      </tr>

    </table>
  </div>
</div>
<div class="header-container">
  <div class="row">
    <div class="col-md-12">
      <div style="margin-top: 20px; align-items: center;">
        <mat-paginator [pageSizeOptions]="[5, 10, 25, 100]" aria-label="Select page of assessment"></mat-paginator>
      </div>
    </div>
  </div>
</div>



