<div class="additionalQuestion" >
<div *ngIf="additionalQuestionCount>0">
  <div class="additionalQuestionHeading">Additional Question</div>

  <div class="userQuestionAnswers">
    <div class="question" *ngFor="let userQuestion of userQuestionList; let i=index;">

      <div *ngIf="questionEditFlag === userQuestion.questionId">
        <form>
          <span class="question-content">{{parameterIndex + 1}}.{{questionIndex + i+1}}  </span>

      <mat-form-field class="questionArea" appearance="outline" id="testForm1">
      <textarea matInput
                cdkTextareaAutosize
                class="textArea1"
                cdkAutosizeMinRows="1"
                cdkAutosizeMaxRows="1"
                [(ngModel)]=userQuestion.question
                maxlength="3000"></textarea>
    </mat-form-field>


      <mat-icon class="saveQuestionIcon"(click)="updateQuestion(userQuestion)" >done</mat-icon>
        <mat-icon class="questionFunctionButton" (click)="deleteUserQuestion(userQuestion.questionId)">delete</mat-icon>
        </form>
      </div>

      <div *ngIf="questionEditFlag !== userQuestion.questionId">
    <span class="question-content">{{parameterIndex + 1}}.{{questionIndex + i+1}} &nbsp;{{userQuestion.question}}

      <div class="questionFunctions">
        <mat-icon class="questionFunctionButton" (click)="editQuestionFlag(userQuestion.questionId)">edit</mat-icon>
        <mat-icon class="questionFunctionButton" (click)="deleteUserQuestion(userQuestion.questionId)">delete</mat-icon>
      </div></span>
      </div>

      <br>

      <div *ngIf="userQuestion.questionId">
      <app-user-additional-answer [assessmentId]="assessmentId" [userAnswerInput]="userQuestion" [parameterId]="parameterId" [userQuestionId]="userQuestion.questionId"></app-user-additional-answer>
      </div>
  </div>

<div class="question" *ngIf="createQuestionFlag === true" >
  <form>
    <span class="question-content">{{parameterIndex + 1}}.{{questionIndex + userQuestionList.length + 1}}  </span>
    <mat-form-field class="questionArea" appearance="outline" id="testForm">
      <textarea matInput
                cdkTextareaAutosize
                class="textArea1"
                cdkAutosizeMinRows="1"
                cdkAutosizeMaxRows="1"
                [(ngModel)]="questionText"
                maxlength="3000"></textarea>
    </mat-form-field>

    <mat-icon class="saveQuestionIcon" (click)="saveQuestion()">done</mat-icon> <mat-icon class="questionFunctionButton" (click)="removeQuestion()">delete</mat-icon>

  </form>
</div>
</div>
</div>

<button (click)="generateQuestion()"
        class="addQuestion button1"  id="addQuestionBox" [disabled]="createQuestionFlag===true">
  <div>
    <img data-id="manage" src="../../assets/plus-icon/addIcon.svg" alt="plus icon" class="plusIcon"/> <span
    id="addQuestion"> Add new question </span>
  </div>
</button>

</div>
